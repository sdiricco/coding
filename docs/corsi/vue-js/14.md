# L'attributo key per evitare comportamenti indesiderati

Vue.js non rimuove o aggiunge gli elementi, ma provvede ad apportare solo le modifiche necessarie cercando di riutilizzare le parti che non hanno subito variazioni. In questo modo gli aggiornamenti avvengono in maniera rapida e migliorano considerevolmente le prestazioni del framework

```html
<main id="root">
  <button 
    @click="selectUserType('privato')"
    :disabled="userType === 'privato'"
  >Utenti Privati</button>
  <button 
    @click="selectUserType('azienda')"
    :disabled="userType === 'azienda'"
  >Aziende</button>
  <div v-if="userType === 'privato'">
    <label>E-mail</label>
    <input placeholder="inserisci la tua email">
  </div>
  <div v-else>
    <label>Codice Aziendale</label>
    <input placeholder="inserisci il tuo codice identificativo">
  </div>
</main>
```

```javascript
const vm = new Vue({
  el: "#root",
  data: {
    userType: 'privato'
  },
  methods: {
    selectUserType(userType) {
      this.userType = userType;
    }
  }
});
```

Se modifichiamo il valore della proprietà vm.$data.user, Vue cerca di riutilizzare lo stesso campo di input e di aggiornare solo l'attributo placeholder. Se però inseriamo dei caratteri nel campo di testo per gli utenti privati e clicchiamo sul pulsante per passare alla modalità 'aziende', ritroviamo i caratteri che avevamo precedentemente inserito.

Per evitare questo tipo di comportamento non desiderato possiamo indicare a Vue che si tratta effettivamente di due distinti campi di testo e che quindi non deve riutilizzare lo stesso elemento `<input>`.

Per far ciò, basterà aggiungere sugli elementi <input> un attributo `key` con valore univoco.

```html
<div v-if="userType === 'privato'">
  <label>E-mail</label>
  <input 
    placeholder="inserisci la tua email"
    key="privato">
</div>
<div v-else>
  <label>Codice Aziendale</label>
  <input 
    placeholder="inserisci il tuo codice identificativo"
    key="azienda">
</div>
```